# Ralph Progress Log
Started: Tue Jan 21 2026

## Codebase Patterns
- Frontend located at `/frontend` directory
- Run quality checks from frontend dir: `npm run build`, `npm run typecheck`, `npm run lint`
- Format code before committing: `npm run format` (Prettier with Tailwind class sorting)
- TypeScript strict mode enabled in tsconfig.json
- Next.js App Router in `src/app/` directory
- Path alias `@/*` maps to `./src/*`
- Environment config files go in `src/config/` directory
- Tailwind v4 uses `@theme inline { }` blocks in `globals.css` for theme configuration
- Dark mode is class-based - add `.dark` class to html element to enable
- shadcn/ui components in `src/components/ui/` - use sonner for toasts (toast deprecated)
- Use `cn()` from `@/lib/utils` for conditional Tailwind classes
- Folder structure: `components/layout/` for Header/Footer, `components/shared/` for reusable, `hooks/` for custom hooks, `stores/` for Zustand, `types/` for TS types, `providers/` for context providers
- App constants in `@/lib/constants` (ENTRY_FEE_SOL, TOURNAMENT_CONFIG, SCORING, ROUTES, etc.)
- React Query provider in `@/providers/QueryProvider` - wrap app for server state management
- Solana wallet provider in `@/providers/WalletProvider` - import wallet CSS there, not in globals.css
- Backpack wallet auto-detected via Wallet Standard - no explicit adapter needed
- Zustand store in `@/stores/useAppStore` - use selector hooks for optimized re-renders
- ThemeProvider in `@/providers/ThemeProvider` - wraps app for next-themes dark mode support
- Provider wrapping order in layout: ThemeProvider > QueryProvider > WalletProvider > children
- Inter font configured via `--font-inter` CSS variable, used as `font-sans` class
- Install shadcn/ui components via: `npx shadcn@latest add <component-name> --yes`

---

## 2026-01-21 - US-001
- Installed additional shadcn/ui components for building pages
- Files changed:
  - frontend/src/components/ui/navigation-menu.tsx (new)
  - frontend/src/components/ui/sheet.tsx (new)
  - frontend/src/components/ui/table.tsx (new)
  - frontend/src/components/ui/select.tsx (new)
  - frontend/src/components/ui/tabs.tsx (new)
  - frontend/src/components/ui/badge.tsx (new)
  - frontend/src/components/ui/separator.tsx (new)
  - frontend/src/components/ui/skeleton.tsx (new)
  - frontend/package.json (dependencies updated)
- **Learnings for future iterations:**
  - shadcn/ui CLI automatically installs peer dependencies (radix-ui packages)
  - Use `--yes` flag to skip confirmation prompts
  - Components need Prettier formatting after install (class sorting)
---

## 2026-01-21 - US-002
- Created mock tournament data for development
- Files changed:
  - frontend/src/types/tournament.ts (new) - TypeScript types for tournament entities
  - frontend/src/lib/mock-data.ts (new) - Mock data for tournament info, teams, groups, leaderboard, user entry
- **Learnings for future iterations:**
  - Tournament types defined in `@/types/tournament` - import types from there for tournament-related components
  - Mock data exports: `mockTournamentInfo`, `mockTeams`, `mockGroups`, `mockLeaderboard`, `mockUserEntry`, `knockoutMatches`
  - Helper functions: `getTeamsByGroup(groupId)`, `getTeamById(teamId)`, `getKnockoutMatchesByStage(stage)`
  - 48 teams across 12 groups (A-L), 4 teams per group
  - Knockout bracket has 32 matches total (16 R32, 8 R16, 4 QF, 2 SF, 1 third place, 1 final)
  - Leaderboard generates 54 mock entries with random points
---

## 2026-01-21 - US-003
- Created Footer component for consistent page footer
- Files changed:
  - frontend/src/components/layout/Footer.tsx (new)
- **Learnings for future iterations:**
  - Footer uses Separator component from shadcn/ui for visual dividers
  - Theme colors: `text-foreground`, `text-muted-foreground`, `bg-background`, `border-border` for consistent theming
  - Responsive pattern: `flex-col items-center sm:flex-row sm:justify-between` for mobile-first stacking layout
  - Current year retrieved dynamically with `new Date().getFullYear()` for copyright
  - Browser verification not available in this environment - manual testing needed
---

## 2026-01-21 - US-004
- Created Header component with full navigation
- Files changed:
  - frontend/src/components/layout/Header.tsx (new)
  - frontend/src/lib/constants.ts (updated - changed `results` to `claims` in ROUTES)
- **Learnings for future iterations:**
  - NavigationMenu uses `legacyBehavior passHref` with Link for proper href handling
  - `navigationMenuTriggerStyle()` provides consistent nav link styling
  - Active link detection: exact match for home (`/`), startsWith for other routes
  - Sticky header: `sticky top-0 z-50` with `bg-background/95 backdrop-blur` for blur effect
  - Mobile navigation pattern: Sheet from right side with hamburger menu trigger
  - WalletMultiButton is imported from `@solana/wallet-adapter-react-ui` (CSS already in WalletProvider)
  - Browser verification not available in this environment - manual testing needed
---

## 2026-01-21 - US-005
- Created PageLayout component for shared Header/Footer layout
- Files changed:
  - frontend/src/components/layout/PageLayout.tsx (new)
- **Learnings for future iterations:**
  - PageLayout provides consistent layout structure: Header + main content + Footer
  - Uses `flex min-h-screen flex-col` to ensure footer stays at bottom
  - Main content uses `flex-1` to fill available space
  - Consistent padding/max-width matches Header/Footer (max-w-7xl, px-4/sm:px-6/lg:px-8)
  - Import as `import { PageLayout } from '@/components/layout/PageLayout'`
  - Browser verification not available in this environment - manual testing needed
---

## 2026-01-21 - US-006
- Created Pagination component for leaderboard navigation
- Files changed:
  - frontend/src/components/shared/Pagination.tsx (new)
- **Learnings for future iterations:**
  - Pagination component exports `DEFAULT_ITEMS_PER_PAGE = 25` constant for consumer use
  - Import as `import { Pagination, DEFAULT_ITEMS_PER_PAGE } from '@/components/shared/Pagination'`
  - Uses lucide-react icons: ChevronLeft, ChevronRight, MoreHorizontal for ellipsis
  - Smart page number display: shows 1...current-1, current, current+1...last when totalPages > 7
  - Current page button uses `variant="default"`, other pages use `variant="outline"`
  - Disabled states handled via `disabled` prop on Button
  - Includes ARIA attributes for accessibility (aria-label, aria-current="page")
  - Browser verification not available in this environment - manual testing needed
---

## 2026-01-21 - US-007
- Implemented full landing page with all required sections
- Files changed:
  - frontend/src/app/page.tsx (updated)
- **Learnings for future iterations:**
  - Use `PageLayout` component to wrap pages for consistent Header/Footer
  - lucide-react icons: Clock, Trophy, Users, Wallet, Target, Award, ChevronRight, Coins for iconography
  - Time remaining helper function: calculate days/hours/minutes from lockTime difference
  - Status badge helper: switch on status to return appropriate Badge variant
  - Card component usage: CardHeader with CardDescription for icon+label, CardContent for values
  - 5-column grid for tournament info stats on desktop: `grid gap-4 sm:grid-cols-2 lg:grid-cols-5`
  - How It Works section: numbered steps using absolute positioned circle with bg-primary/10 text-primary
  - Scoring breakdown: two-column grid for Group Stage and Knockout Stage cards
  - CTA section: Card with bg-primary/5 border-primary/20 for subtle highlight
  - Button with Link: use `asChild` prop to pass Link as child - `<Button asChild><Link href={...}>...</Link></Button>`
  - Browser verification not available in this environment - manual testing needed
---

## 2026-01-21 - US-008
- Created Group Stage Prediction component for predicting group standings
- Files changed:
  - frontend/src/components/predictions/GroupStageForm.tsx (new)
- **Learnings for future iterations:**
  - Prediction components go in `components/predictions/` directory
  - GroupStageForm accepts `predictions: GroupPrediction[]` and `onPredictionChange` callback
  - Uses `mockGroups` from mock-data.ts for group/team data
  - Team filtering pattern: use `Set` for selected team IDs, filter available teams excluding already selected
  - Position labels defined as const object with keys: first, second, third, fourth
  - Complete/incomplete state: Badge with CheckCircle2 (green) or Circle + count
  - Card styling for complete group: `border-green-500/50 bg-green-500/5`
  - Select component value must be string (empty string for null), use `value ?? ''`
  - Browser verification not available in this environment - manual testing needed
---

## 2026-01-21 - US-009
- Created Knockout Bracket component for predicting knockout match winners
- Files changed:
  - frontend/src/components/predictions/KnockoutBracket.tsx (new)
- **Learnings for future iterations:**
  - KnockoutBracket accepts `groupPredictions`, `knockoutPredictions`, and `onPredictionChange` callback
  - Teams are resolved from sources: "1A" = 1st place Group A, "M1" = winner of match M1, "L-M29" = loser of match M29
  - Uses Tabs component for responsive navigation between knockout stages (R32, R16, QF, SF, Final, 3rd Place)
  - Match cards show: match ID (M1, M2, etc.), point value badge (+2, +4, etc.), team buttons with Trophy icon for winner
  - TBD display pattern: show source reference (e.g., "TBD (1A)") when team not yet determined from group predictions
  - Winner validation: if selected winner no longer valid (team didn't advance), auto-clear selection via useEffect
  - Stage config pattern: `Record<KnockoutStage, { label, shortLabel, pointValue }>` for display configuration
  - Mobile responsive: TabsTrigger shows shortLabel on mobile (R32, R16) and full label on desktop
  - Helper function `resolveTeamSource()` recursively resolves team ID from group position or previous match winner/loser
  - Grid layout adapts to match count: max-w-sm centered for 1 match, 2 cols for 2 matches, 4 cols for 4+ matches
  - Browser verification not available in this environment - manual testing needed
---

